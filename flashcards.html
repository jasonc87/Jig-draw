<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link href="css/style.css" rel="stylesheet" media="screen">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

  <title>Jig-draw flashcards</title>
  <script src="words.js"></script>
  <script language="javascript">
  window.onload = function() {
    getNewWord();
    window.setTimeout(function() {window.update();}, 1000);

    window.update = function() {
      var timer = document.getElementById('timer').innerHTML;
      timer = Math.max(0, parseInt(timer) - 1);
      document.getElementById('timer').innerHTML = timer;

      if (timer < 10) {
        document.getElementById('timer').style.color = 'red';
      } else {
        document.getElementById('timer').style.color = 'black';      
      }

      if (timer <= 0) {
        getNewWord();
        document.getElementById('timer').innerHTML = 60;
      }

      window.setTimeout(window.update, 1000);
    };

    var currentWord;

    function getNewWord() {
      var numWords = window.library.words.length;
      var newWord = Math.floor(Math.random() * numWords);
      currentWord = newWord;

      document.getElementById('majorWord').innerHTML = library.words[newWord][0];
      document.getElementById('minorWord').innerHTML = library.words[newWord][1];

    };

    // window.cycleClues = function() {
    //   var currentMajorWord = document.getElementById('majorWord').innerHTML;
    //   var currentMinorWord = document.getElementById('minorWord').innerHTML;


    //   var currentWord = dictionary.words.indexOf(currentMajorWord);
    //   var currentClue = dictionary.words[currentWord].indexOf(currentMinorWord);

    //   currentClue++;
    //   if (currentClue >= dictionary.words[currentWord].length) {
    //     currentClue = 1;
    //   }

    //   document.getElementById('minorWord').innerHTML = library.words[currentWord][currentClue];

    // }
  }
  </script>
</head>
<body>
  <div id="flashcard">
    <div id="status">
      <span id="timer">60</span>
    </div>
    <div id="majorWord">Foo</div>
    <div id="minorWord">Bar</div>
  </div>
</body>
</html>